<!DOCTYPE html>
<html>
<head lang="en">
  <meta charset="UTF-8">
  <title>Page Visibility Example</title>
</head>
<body>
<h1>Page Visibility Example</h1>
<div id="ytplayer"></div>
<script>
  var tag = document.createElement('script');
  tag.src = "https://www.youtube.com/player_api";
  var firstScriptTag = document.getElementsByTagName('script')[0];
  firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);
  var player;
  function onYouTubePlayerAPIReady() {
    player = new YT.Player('ytplayer', {
      height: '390',
      width: '640',
      videoId: 'aHjpOzsQ9YI',
      enablejsapi: 1
    });
  }
</script>

<script>
  window.addEventListener("load", function vidDemo() {
    document.addEventListener('visibilitychange', startStopVideo);
    function startStopVideo() {
      if (!document.hidden) {
        player.playVideo();
      }
      else {
        player.pauseVideo();
      }
    }
  });
</script>
</body>
</html>